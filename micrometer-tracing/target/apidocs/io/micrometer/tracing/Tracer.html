<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) on Wed Jul 12 17:59:34 CEST 2023 -->
<title>Tracer (micrometer-tracing 1.0.7-SNAPSHOT API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2023-07-12">
<meta name="description" content="declaration: package: io.micrometer.tracing, interface: Tracer">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/Tracer.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">io.micrometer.tracing</a></div>
<h1 title="Interface Tracer" class="title">Interface Tracer</h1>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Superinterfaces:</dt>
<dd><code><a href="BaggageManager.html" title="interface in io.micrometer.tracing">BaggageManager</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public interface </span><span class="element-name type-name-label">Tracer</span><span class="extends-implements">
extends <a href="BaggageManager.html" title="interface in io.micrometer.tracing">BaggageManager</a></span></div>
<div class="block">This API was heavily influenced by Brave. Parts of its documentation were taken
 directly from Brave.
 <p>
 Using a tracer, you can create a root span capturing the critical path of a request.
 Child spans can be created to allocate latency relating to outgoing requests.
 <p>
 When tracing single-threaded code, just run it inside a scoped span: <pre><code>
 // Start a new trace or a span within an existing trace representing an operation
 ScopedSpan span = tracer.startScopedSpan("encode");
 try {
   // The span is in "scope" so that downstream code such as loggers can see trace IDs
   return encoder.encode();
 } catch (RuntimeException | Error e) {
   span.error(e); // Unless you handle exceptions, you might not know the operation failed!
   throw e;
 } finally {
   span.end();
 }
 </code></pre>
 <p>
 When you need more features, or finer control, use the <a href="Span.html" title="interface in io.micrometer.tracing">Span</a> type:
 <pre><code>
 // Start a new trace or a span within an existing trace representing an operation
 Span span = tracer.nextSpan().name("encode").start();
 // Put the span in "scope" so that downstream code such as loggers can see trace IDs
 try (SpanInScope ws = tracer.withSpanInScope(span)) {
   return encoder.encode();
 } catch (RuntimeException | Error e) {
   span.error(e); // Unless you handle exceptions, you might not know the operation failed!
   throw e;
 } finally {
   span.end(); // note the scope is independent of the span. Always finish a span.
 }
 </code></pre>
 <p>
 Both of the above examples report the exact same span on finish!</div>
<dl class="notes">
<dt>Since:</dt>
<dd>1.0.0</dd>
<dt>Author:</dt>
<dd>OpenZipkin Brave Authors, Marcin Grzejszczak</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="Span.html" title="interface in io.micrometer.tracing"><code>Span</code></a></li>
<li><a href="ScopedSpan.html" title="interface in io.micrometer.tracing"><code>ScopedSpan</code></a></li>
<li><a href="propagation/Propagator.html" title="interface in io.micrometer.tracing.propagation"><code>Propagator</code></a></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Interface</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static interface&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="Tracer.SpanInScope.html" class="type-name-link" title="interface in io.micrometer.tracing">Tracer.SpanInScope</a></code></div>
<div class="col-last even-row-color">
<div class="block">Scope of a span.</div>
</div>
</div>
</section>
</li>
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static final <a href="Tracer.html" title="interface in io.micrometer.tracing">Tracer</a></code></div>
<div class="col-second even-row-color"><code><a href="#NOOP" class="member-name-link">NOOP</a></code></div>
<div class="col-last even-row-color">
<div class="block">A noop implementation.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="Span.html" title="interface in io.micrometer.tracing">Span</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#currentSpan()" class="member-name-link">currentSpan</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Retrieves the current span in scope or <code>null</code> if one is not available.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="SpanCustomizer.html" title="interface in io.micrometer.tracing">SpanCustomizer</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#currentSpanCustomizer()" class="member-name-link">currentSpanCustomizer</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Allows to customize the current span in scope.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="CurrentTraceContext.html" title="interface in io.micrometer.tracing">CurrentTraceContext</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#currentTraceContext()" class="member-name-link">currentTraceContext</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Returns the <a href="CurrentTraceContext.html" title="interface in io.micrometer.tracing"><code>CurrentTraceContext</code></a>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="Span.html" title="interface in io.micrometer.tracing">Span</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#nextSpan()" class="member-name-link">nextSpan</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">This creates a new span based on the current span in scope.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="Span.html" title="interface in io.micrometer.tracing">Span</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#nextSpan(io.micrometer.tracing.Span)" class="member-name-link">nextSpan</a><wbr>(<a href="Span.html" title="interface in io.micrometer.tracing">Span</a>&nbsp;parent)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">This creates a new span whose parent is <a href="Span.html" title="interface in io.micrometer.tracing"><code>Span</code></a>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="Span.Builder.html" title="interface in io.micrometer.tracing">Span.Builder</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#spanBuilder()" class="member-name-link">spanBuilder</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">In some cases (e.g.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="ScopedSpan.html" title="interface in io.micrometer.tracing">ScopedSpan</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#startScopedSpan(java.lang.String)" class="member-name-link">startScopedSpan</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Returns a new child span if there's a <a href="#currentSpan()"><code>currentSpan()</code></a> or a new trace if
 there isn't.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="TraceContext.Builder.html" title="interface in io.micrometer.tracing">TraceContext.Builder</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#traceContextBuilder()" class="member-name-link">traceContextBuilder</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Builder for <a href="TraceContext.html" title="interface in io.micrometer.tracing"><code>TraceContext</code></a>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="Tracer.SpanInScope.html" title="interface in io.micrometer.tracing">Tracer.SpanInScope</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#withSpan(io.micrometer.tracing.Span)" class="member-name-link">withSpan</a><wbr>(<a href="Span.html" title="interface in io.micrometer.tracing">Span</a>&nbsp;span)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Makes the given span the "current span" and returns an object that exits that scope
 on close.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-io.micrometer.tracing.BaggageManager">Methods inherited from interface&nbsp;io.micrometer.tracing.<a href="BaggageManager.html" title="interface in io.micrometer.tracing">BaggageManager</a></h3>
<code><a href="BaggageManager.html#createBaggage(java.lang.String)">createBaggage</a>, <a href="BaggageManager.html#createBaggage(java.lang.String,java.lang.String)">createBaggage</a>, <a href="BaggageManager.html#getAllBaggage()">getAllBaggage</a>, <a href="BaggageManager.html#getBaggage(io.micrometer.tracing.TraceContext,java.lang.String)">getBaggage</a>, <a href="BaggageManager.html#getBaggage(java.lang.String)">getBaggage</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="NOOP">
<h3>NOOP</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type"><a href="Tracer.html" title="interface in io.micrometer.tracing">Tracer</a></span>&nbsp;<span class="element-name">NOOP</span></div>
<div class="block">A noop implementation.</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="nextSpan()">
<h3>nextSpan</h3>
<div class="member-signature"><span class="return-type"><a href="Span.html" title="interface in io.micrometer.tracing">Span</a></span>&nbsp;<span class="element-name">nextSpan</span>()</div>
<div class="block">This creates a new span based on the current span in scope. If there's no such span
 a new trace will be created.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>a child span or a new trace if no span was present</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="nextSpan(io.micrometer.tracing.Span)">
<h3>nextSpan</h3>
<div class="member-signature"><span class="return-type"><a href="Span.html" title="interface in io.micrometer.tracing">Span</a></span>&nbsp;<span class="element-name">nextSpan</span><wbr><span class="parameters">(@Nullable
 <a href="Span.html" title="interface in io.micrometer.tracing">Span</a>&nbsp;parent)</span></div>
<div class="block">This creates a new span whose parent is <a href="Span.html" title="interface in io.micrometer.tracing"><code>Span</code></a>. If parent is <code>null</code>
 then will create act as <a href="#nextSpan()"><code>nextSpan()</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>parent</code> - parent span</dd>
<dt>Returns:</dt>
<dd>a child span for the given parent, <code>null</code> if context was empty.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="withSpan(io.micrometer.tracing.Span)">
<h3>withSpan</h3>
<div class="member-signature"><span class="return-type"><a href="Tracer.SpanInScope.html" title="interface in io.micrometer.tracing">Tracer.SpanInScope</a></span>&nbsp;<span class="element-name">withSpan</span><wbr><span class="parameters">(@Nullable
 <a href="Span.html" title="interface in io.micrometer.tracing">Span</a>&nbsp;span)</span></div>
<div class="block">Makes the given span the "current span" and returns an object that exits that scope
 on close. Calls to <a href="#currentSpan()"><code>currentSpan()</code></a> and <a href="#currentSpanCustomizer()"><code>currentSpanCustomizer()</code></a> will
 affect this span until the return value is closed.
 <p>
 The most convenient way to use this method is via the try-with-resources idiom.
 <p>
 When tracing in-process commands, prefer <a href="#startScopedSpan(java.lang.String)"><code>startScopedSpan(String)</code></a> which
 scopes by default.
 <p>
 Note: While downstream code might affect the span, calling this method, and calling
 close on the result have no effect on the input. For example, calling close on the
 result does not finish the span. Not only is it safe to call close, you must call
 close to end the scope, or risk leaking resources associated with the scope.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>span</code> - span to place into scope or null to clear the scope</dd>
<dt>Returns:</dt>
<dd>scope with span in it</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="startScopedSpan(java.lang.String)">
<h3>startScopedSpan</h3>
<div class="member-signature"><span class="return-type"><a href="ScopedSpan.html" title="interface in io.micrometer.tracing">ScopedSpan</a></span>&nbsp;<span class="element-name">startScopedSpan</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name)</span></div>
<div class="block">Returns a new child span if there's a <a href="#currentSpan()"><code>currentSpan()</code></a> or a new trace if
 there isn't. The result is the "current span" until <a href="ScopedSpan.html#end()"><code>ScopedSpan.end()</code></a> ()} is
 called.
 <p>
 Here's an example: <pre><code>
 ScopedSpan span = tracer.startScopedSpan("encode");
 try {
   // The span is in "scope" so that downstream code such as loggers can see trace IDs
   return encoder.encode();
 } catch (RuntimeException | Error e) {
   span.error(e); // Unless you handle exceptions, you might not know the operation failed!
   throw e;
 } finally {
   span.end();
 }
 </code></pre></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>name</code> - of the span in scope</dd>
<dt>Returns:</dt>
<dd>span in scope</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="spanBuilder()">
<h3>spanBuilder</h3>
<div class="member-signature"><span class="return-type"><a href="Span.Builder.html" title="interface in io.micrometer.tracing">Span.Builder</a></span>&nbsp;<span class="element-name">spanBuilder</span>()</div>
<div class="block">In some cases (e.g. when dealing with
 <a href="propagation/Propagator.html#extract(C,io.micrometer.tracing.propagation.Propagator.Getter)"><code>Propagator.extract(Object, Propagator.Getter)</code></a>'s we want to create a span
 that has not yet been started, yet it's heavily configurable (some options are not
 possible to be set when a span has already been started). We can achieve that by
 using a builder.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>a span builder</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="traceContextBuilder()">
<h3>traceContextBuilder</h3>
<div class="member-signature"><span class="return-type"><a href="TraceContext.Builder.html" title="interface in io.micrometer.tracing">TraceContext.Builder</a></span>&nbsp;<span class="element-name">traceContextBuilder</span>()</div>
<div class="block">Builder for <a href="TraceContext.html" title="interface in io.micrometer.tracing"><code>TraceContext</code></a>.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>a trace context builder</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="currentTraceContext()">
<h3>currentTraceContext</h3>
<div class="member-signature"><span class="return-type"><a href="CurrentTraceContext.html" title="interface in io.micrometer.tracing">CurrentTraceContext</a></span>&nbsp;<span class="element-name">currentTraceContext</span>()</div>
<div class="block">Returns the <a href="CurrentTraceContext.html" title="interface in io.micrometer.tracing"><code>CurrentTraceContext</code></a>.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>current trace context</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="currentSpanCustomizer()">
<h3>currentSpanCustomizer</h3>
<div class="member-signature"><span class="annotations">@Nullable
</span><span class="return-type"><a href="SpanCustomizer.html" title="interface in io.micrometer.tracing">SpanCustomizer</a></span>&nbsp;<span class="element-name">currentSpanCustomizer</span>()</div>
<div class="block">Allows to customize the current span in scope.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>current span customizer</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="currentSpan()">
<h3>currentSpan</h3>
<div class="member-signature"><span class="annotations">@Nullable
</span><span class="return-type"><a href="Span.html" title="interface in io.micrometer.tracing">Span</a></span>&nbsp;<span class="element-name">currentSpan</span>()</div>
<div class="block">Retrieves the current span in scope or <code>null</code> if one is not available.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>current span in scope</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2023. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
